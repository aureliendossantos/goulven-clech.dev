---
import { getCollection } from "astro:content"
import type { Parent } from "$components/Parents.astro"
import Hero from "$components/Hero.astro"
import Layout from "$layouts/Layout.astro"
import TagInline from "$components/inlines/TagInline.astro"
import Tag from "./[...tag].astro"
/**
 * A page with all tags used in our articles.
 */
const blogEntries = await getCollection("blog", ({ data }) => {
  return data.draft !== true
})
/* get all tags */
const allTags: Set<string> = new Set()
blogEntries.forEach((entry) => {
  entry.data.tags.forEach((tag) => {
    allTags.add(tag.toLowerCase())
  })
})

// Page title use in Hero & Metadata
const pageTitle = "All tags"

// Page's parents
const parents: Array<Parent> = ["home"]
---

<Layout title={pageTitle}>
  <Hero title={pageTitle} parents={parents}>
    <ul class="my-3 flex flex-wrap gap-6">
      {[...allTags].map((tag) => <TagInline tag={tag} />)}
    </ul>
  </Hero>
</Layout>
